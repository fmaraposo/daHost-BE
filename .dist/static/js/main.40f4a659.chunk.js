(this.webpackJsonpfinalproject_frontend=this.webpackJsonpfinalproject_frontend||[]).push([[0],{22:function(e,t,s){},41:function(e,t,s){},67:function(e,t,s){},68:function(e,t,s){},69:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s(1),i=s.n(n),c=s(32),r=s.n(c),o=(s(41),s(12)),l=s(3),u=s(5),d=s(7),h=s(6),j=(s(22),s(2)),b=s(17),p=s.n(b),m=function e(){var t=this;Object(l.a)(this,e),this.loggedin=function(){return t.service.get("/loggedin")},this.logout=function(){return t.service.post("/logout")};var s=p.a.create({baseURL:"".concat("http://localhost:5000","/api"),withCredentials:!0});this.service=s},g=s(13),O=function(){function e(){Object(l.a)(this,e);var t=p.a.create({baseURL:"".concat("http://localhost:5000","/api"),withCredentials:!0});this.service=t}return Object(u.a)(e,[{key:"addUsers",value:function(e,t){return this.service.put("/quiz/".concat(e,"/users"),{users:t})}},{key:"addQuestionsAndQuizCode",value:function(e,t,s,a){return this.service.post("/quiz",{user:e,questions:t,playlistTitle:s,playlistDescription:a})}},{key:"getQuizUsers",value:function(e){return this.service.get("/quiz-code/".concat(e))}},{key:"getQuizQuestions",value:function(e){return this.service.get("/quiz-code/".concat(e))}},{key:"addSongs",value:function(e,t){return this.service.put("/quiz/".concat(e,"/addsongs"),{songs:t})}},{key:"getSongs",value:function(e,t){return this.service.post("/quiz/".concat(e,"/playlist"),{userToken:t})}}]),e}(),v=s.p+"static/media/party_playlist_video.8bbc0a0c.mp4",x=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={displayName:"",quizCode:""},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState(Object(g.a)({},a,n))},e.handleFormSubmit=function(t){t.preventDefault();var s=new O,a=e.state.displayName;console.log("The user just added: ",a),s.addUsers(e.state.quizCode,a).then((function(t){console.log("The response from the quiz: ",t),t.data.error?console.log(t.data.error):(console.log("".concat(a," was added")),e.props.history.push("/quiz-code/lobbygame/".concat(e.state.quizCode)))}))},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"home-wrapper",children:[Object(a.jsx)("video",{src:v,id:"video-home",autoPlay:!0,loop:!0,muted:!0,style:{position:"absolute",minWidth:"100vw",left:"50%",top:"50%",minHeight:"100vh",objectFit:"cover",transform:"translate(-50%, -50%)",zIndex:"-1"}}),Object(a.jsxs)("div",{className:"home-form-wrapper",children:[Object(a.jsx)("h1",{className:"primary-title-home",children:"Join a Game"}),Object(a.jsxs)("form",{className:"form-home",onSubmit:this.handleFormSubmit,children:[Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{id:"label"}),Object(a.jsx)("input",{className:"primary-input",type:"text",name:"displayName",onChange:this.handleChange,value:this.state.displayName,placeholder:"Display Name",autoFocus:!0,required:!0})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("div",{className:"form-field",children:[Object(a.jsx)("label",{id:"label"}),Object(a.jsx)("input",{className:"primary-input",type:"text",name:"quizCode",onChange:this.handleChange,value:this.state.quizCode,placeholder:"Game Pin",required:!0})]}),Object(a.jsx)("p",{}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("button",{className:"treat-button",children:"Join!"})})]}),Object(a.jsx)("br",{}),localStorage.getItem("loggedInUser")?Object(a.jsxs)("center",{className:"p-home",children:["You are logged in! ",Object(a.jsx)("br",{})," Create your own quiz ","",Object(a.jsx)("a",{href:"/quiz-creation",id:"host",children:"here"})]}):Object(a.jsxs)("center",{className:"p-home",children:["Be a host and create a game! Log in"," ",Object(a.jsx)("a",{href:"/login-spotify",id:"host",children:"here"})]})]})]})}}]),s}(i.a.Component),y=Object(j.h)(x),f=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={title:"",description:"",questions:{question1:"",question2:"",question3:"",question4:"",question5:""},code:0},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState((function(e){return{questions:Object(o.a)(Object(o.a)({},e.questions),{},Object(g.a)({},a,n))}}))},e.handleChangeTitleDescription=function(t){var s=t.target,a=s.name,n=s.value;e.setState(Object(g.a)({},a,n))},e.handleFormSubmit=function(t){t.preventDefault();var s=new O,a=e.state.questions,n=Object.values(a),i=e.state.title,c=e.state.description;s.addQuestionsAndQuizCode(localStorage.getItem("loggedInUser"),n,i,c).then((function(t){console.log(a),e.setState({code:t.data.quizCode}),console.log(e.state.code),e.props.history.push("/quiz-code/".concat(e.state.code))}))},e}return Object(u.a)(s,[{key:"render",value:function(){return localStorage.getItem("loggedInUser")?Object(a.jsxs)("div",{className:"quizCreation",children:[Object(a.jsx)("h1",{className:"primary-title",children:"Let's create your quiz!"}),Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsxs)("div",{className:"title-description-section",children:[Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",type:"text",name:"title",onChange:this.handleChangeTitleDescription,value:this.state.title,placeholder:"Playlist Title",required:!0})})]}),Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",type:"textarea",name:"description",onChange:this.handleChangeTitleDescription,value:this.state.description,placeholder:"Describe your playlist "})})]})]}),Object(a.jsxs)("div",{className:"questions-1-2-3",children:[Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",style:{width:"280px"},type:"text",name:"question1",onChange:this.handleChange,value:this.state.questions.question1,placeholder:"1. What song gets you energized?",required:!0})})]}),Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",style:{width:"360px"},type:"text",name:"question2",onChange:this.handleChange,value:this.state.questions.question2,placeholder:"2. What song leads you to the dance floor?",required:!0})})]}),Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",style:{width:"330px"},type:"text",name:"question3",onChange:this.handleChange,value:this.state.questions.question3,placeholder:"3.What song can make you romantic?",required:!0})})]})]}),Object(a.jsxs)("div",{className:"questions-4-5",children:[Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",style:{width:"330px"},type:"text",name:"question4",onChange:this.handleChange,value:this.state.questions.question4,placeholder:"4.What song makes you want a beer?",required:!0})})]}),Object(a.jsxs)("div",{className:"question",children:[Object(a.jsx)("div",{className:"labelQuestion"}),Object(a.jsx)("div",{className:"inputQuestion",children:Object(a.jsx)("input",{className:"primary-input",style:{width:"300px"},type:"text",name:"question5",onChange:this.handleChange,value:this.state.questions.question5,placeholder:" 5. What's your favorite song?",required:!0})})]})]}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("button",{className:"treat-button",children:"Submit!"})})]})]}):Object(a.jsx)(j.a,{path:"/"})}}]),s}(i.a.Component),N=Object(j.h)(f),q=s(34),C=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={code:e.props.match.params.quizCode,value:"",copied:!1},e.handleButton=function(){e.props.history.push("/quiz-code/lobbygame/".concat(e.state.code))},e}return Object(u.a)(s,[{key:"render",value:function(){var e=this;return Object(a.jsxs)("div",{className:"quizcode-wrapper",children:[Object(a.jsxs)("div",{className:"quizcode-title",children:[Object(a.jsx)("h1",{className:"primary-title-quizcode",children:"Here's your quiz code! "}),Object(a.jsx)("h2",{className:"primary-subtitle-quizcode",children:"Share it with your friends! "})]}),Object(a.jsxs)("div",{className:"quizcode-wrapper",children:[Object(a.jsxs)("div",{className:"quizcode-pastebutton",children:[Object(a.jsx)("input",{className:"primary-input",style:{color:"black"},value:this.state.code,onChange:function(t){var s=t.target.code;return e.setState({code:s,copied:!1})}}),Object(a.jsx)(q.CopyToClipboard,{text:this.state.code,onCopy:function(){return e.setState({copied:!0})},children:Object(a.jsx)("i",{style:{color:"white",cursor:"pointer"},className:"far fa-copy fa-2x"})}),this.state.copied?Object(a.jsx)("span",{style:{color:"white",fontFamily:"Do Hyeon, sans-serif"},children:"  Copied."}):null]}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("button",{className:"treat-button-quizcode",onClick:this.handleButton,children:"Join Lobby"})})]})]})}}]),s}(i.a.Component),U=Object(j.h)(C),z=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={users:[]},e.intervalID=0,e.handleButton=function(){clearInterval(e.intervalID);var t=e.props.match.params.quizCode;e.props.history.push("/quiz-code/game/".concat(t))},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.intervalID=setInterval((function(){var t=new O,s=e.props.match.params.quizCode;t.getQuizUsers(s).then((function(t){var s=t.data;e.setState({users:s.users})}))}),2e3)}},{key:"render",value:function(){return this.state.users?Object(a.jsx)("div",{className:"lobby-game-wrapper",children:Object(a.jsxs)("div",{className:"wrapper-lobbygame",children:[Object(a.jsx)("div",{className:"lobby-game-primary-title",children:Object(a.jsx)("h1",{className:"primary-title-lobbygame",children:"Waiting for all players..."})}),Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"users-display",children:Object(a.jsx)("ul",{className:"users-ul",children:this.state.users.map((function(e,t){return Object(a.jsx)("li",{className:"users-lobby",children:e},t)}))})}),Object(a.jsx)("div",{className:"form-field",children:Object(a.jsx)("button",{className:"treat-button-lobbygame",onClick:this.handleButton,children:"Start Game"})})]})]})}):Object(a.jsx)("div",{children:"Loading"})}}]),s}(i.a.Component),I=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={questions:[],songs:{song0:"",song1:"",song2:"",song3:"",song4:""}},e.handleChange=function(t){var s=t.target,a=s.name,n=s.value;e.setState((function(e){return{songs:Object(o.a)(Object(o.a)({},e.songs),{},Object(g.a)({},a,n))}}))},e.handleFormSubmit=function(t){t.preventDefault();var s=new O,a=e.state.songs,n=e.props.match.params.quizCode,i=Object.values(a);console.log("These songs: ".concat(i)),s.addSongs(n,i).then((function(t){localStorage.getItem("loggedInUser")?(console.log(t),console.log("These songs were submited: ".concat(i)),console.log("These quizCode was submited: ".concat(n)),e.props.history.push("/quiz-code/".concat(n,"/playlist"))):e.props.history.push("/quiz-code/playlist/finishedgame")}))},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=new O,s=this.props.match.params.quizCode;t.getQuizQuestions(s).then((function(t){console.log(t.data);var s=t.data;e.setState({questions:s.questions})}))}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"lobby-game-wrapper",children:[Object(a.jsx)("h1",{className:"primary-title-game",children:"Game"}),Object(a.jsxs)("form",{onSubmit:this.handleFormSubmit,children:[Object(a.jsx)("div",{className:"gameQuestions",children:Object(a.jsx)("form",{onSubmit:this.handleFormSubmit,children:Object(a.jsx)("ul",{className:"game-board",children:this.state.questions.map((function(t,s){return Object(a.jsxs)("div",{className:"gameQuestion",children:[Object(a.jsx)("li",{className:"questions-game",children:t}),Object(a.jsx)("input",{className:"primary-input-game",type:"text",name:"song".concat(s),onChange:e.handleChange,value:e.state.songs["song".concat(s)]})]},s)}))})})}),Object(a.jsx)("button",{className:"treat-button-quizcode",children:"Submit"})]})]})})}}]),s}(i.a.Component),w=Object(j.h)(I),S=s(35),k=s.n(S),Q=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={playlist:null},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.quizCode,s=this.props.loggedInUser.accessToken;(new O).getSongs(t,s).then((function(t){console.log("Playlist Response Data",t.data),e.setState({playlist:t.data})}))}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"playlistWrapper",children:[Object(a.jsx)("h1",{className:"primary-title-playlist",children:"Here's your playlist!!"}),Object(a.jsx)("div",{className:"playlistPlayer",children:Object(a.jsx)(k.a,{uri:this.state.playlist,size:{width:"50%",height:300},view:"list",theme:"black"})})]})}}]),s}(i.a.Component),D=Object(j.h)(Q),T=(s(67),["btn--primary","btn--outline"]),F=["btn--medium","btn--large"],A=function(e,t){var s=t.type,n=t.buttonStyle,i=t.buttonSize,c=T.includes(n)?n:T[0],r=F.includes(i)?i:F[0],o=Object(j.g)();return Object(a.jsx)("button",{className:"btn ".concat(c," ").concat(r),onClick:function(){(new m).logout().then((function(){e.setCurrentUser(null),localStorage.removeItem("loggedInUser"),o.push({pathname:"/"}),console.log("The LogOut Button is Working")}))},type:s,children:"Log Out"})},W=[{title:"Create a New Quiz",url:"/quiz-creation",cName:"nav-links"}],L=(s(68),function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={clicked:!1},e.handleClick=function(){e.setState({clicked:!e.state.clicked})},e}return Object(u.a)(s,[{key:"render",value:function(){return Object(a.jsxs)("nav",{className:"NavbarItems",children:[Object(a.jsxs)("h1",{className:"navbar-logo",children:[" ",Object(a.jsx)("a",{href:"/",style:{textDecoration:"none",color:"white"},children:"DaHost"})," ",Object(a.jsx)("i",{className:"fab fa-spotify"})]}),Object(a.jsx)("div",{className:"menu-icon",onClick:this.handleClick,children:Object(a.jsx)("i",{className:this.state.clicked?"fas fa-times":"fas fa-bars"})}),Object(a.jsx)("ul",{className:this.state.clicked?"nav-menu active":"nav-menu",children:W.map((function(e,t){return Object(a.jsx)("li",{children:Object(a.jsx)("a",{className:e.cName,href:e.url,children:e.title})},t)}))}),Object(a.jsx)(A,{setCurrentUser:this.props.setCurrentUser})]})}}]),s}(n.Component));var B=function(){return Object(a.jsxs)("div",{className:"playlistNotUserWrapper",children:[Object(a.jsx)("h1",{className:"primary-title-playlistNotUserWrapper",children:"Yeaaah the playlist has been created!!"}),Object(a.jsx)("h2",{className:"primary-subtitle-playlistNotUserWrapper",children:"Check it out on the host Spotify Account and have fun!!"})]})},P=function(e){Object(d.a)(s,e);var t=Object(h.a)(s);function s(){var e;Object(l.a)(this,s);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).state={loggedInUser:null},e.setCurrentUser=function(t){e.setState({loggedInUser:t})},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;null===this.state.loggedInUser&&(new m).loggedin().then((function(t){t.data._id?(e.setCurrentUser(t.data),localStorage.setItem("loggedInUser",t.data.displayName)):localStorage.removeItem("loggedInUser")}))}},{key:"render",value:function(){var e=this;return Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(a.jsx)(y,{loggedInUser:e.state.loggedInUser})}}),Object(a.jsx)(j.b,{path:"/quiz-creation",render:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(L,{loggedInUser:e.state.loggedInUser,setCurrentUser:e.setCurrentUser}),Object(a.jsx)(N,{loggedInUser:e.state.loggedInUser})]})}}),Object(a.jsx)(j.b,{exact:!0,path:"/quiz-code/:quizCode",render:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(L,{loggedInUser:e.state.loggedInUser,setCurrentUser:e.setCurrentUser}),Object(a.jsx)(U,{loggedInUser:e.state.loggedInUser})]})}}),Object(a.jsx)(j.b,{path:"/quiz-code/lobbygame/:quizCode",render:function(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(L,{loggedInUser:e.state.loggedInUser,setCurrentUser:e.setCurrentUser}),Object(a.jsx)(z,Object(o.a)(Object(o.a)({},t),{},{loggedInUser:localStorage.getItem("loggedInUser"),setCurrentUser:e.setCurrentUser}))]})}}),Object(a.jsx)(j.b,{path:"/quiz-code/game/:quizCode",render:function(t){return Object(a.jsxs)("div",{children:[Object(a.jsx)(L,{loggedInUser:e.state.loggedInUser,setCurrentUser:e.setCurrentUser}),Object(a.jsx)(w,Object(o.a)(Object(o.a)({},t),{},{loggedInUser:localStorage.getItem("loggedInUser")}))]})}}),Object(a.jsx)(j.b,{path:"/quiz-code/playlist/finishedgame",render:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(L,{loggedInUser:e.state.loggedInUser,setCurrentUser:e.setCurrentUser}),Object(a.jsx)(B,{})]})}}),Object(a.jsx)(j.b,{path:"/quiz-code/:quizCode/playlist",render:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(L,{loggedInUser:e.state.loggedInUser,setCurrentUser:e.setCurrentUser}),Object(a.jsx)(D,{loggedInUser:e.state.loggedInUser})]})}}),Object(a.jsx)(j.b,{path:"/login-spotify",render:function(){window.location.href="".concat("http://localhost:5000","/api/auth/spotify")}})]})})}}]),s}(i.a.Component),H=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,70)).then((function(t){var s=t.getCLS,a=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),a(e),n(e),i(e),c(e)}))},J=s(14);r.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(J.a,{children:Object(a.jsx)(P,{})})}),document.getElementById("root")),H()}},[[69,1,2]]]);
//# sourceMappingURL=main.40f4a659.chunk.js.map